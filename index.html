<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="calculator.png" type="image/x-icon">
    <title>The Pascaline</title>
</head>
<body>
    <!-- <i class='bx bx-sun'></i> -->
    
    <div class="wrapper">
        <div class="calculator">
            <div class="result">
                <input type="text" readonly id="res" placeholder="0.0">
            </div>
            <div class="buttons">
                <div id="clear" onclick="res.value = ''">C</div>
                <div id="del" onclick="res.value = res.value.substring(0, res.value.length - 1)"><i class='bx bxs-eraser'></i></div>
                <div id="per" onclick="res.value += '%'">%</div>
                <div id="tim" onclick="res.value += '&#215'">&#215</div>
                <div onclick="res.value += 7">7</div>
                <div onclick="res.value += 8">8</div>
                <div onclick="res.value += 9">9</div>
                <div id="div" onclick="res.value += '&#247'">&#247</div>
                <div onclick="res.value += 4">4</div>
                <div onclick="res.value += 5">5</div>
                <div onclick="res.value += 6">6</div>
                <div id="sub" onclick="res.value += '-'">-</div>
                <div onclick="res.value += 1">1</div>
                <div onclick="res.value += 2">2</div>
                <div onclick="res.value += 3">3</div>
                <div id="add" onclick="res.value += '+'">+</div>
                <div onclick="res.value += 0">0</div>
                <div id="dot" onclick="res.value += '.'">,</div>
                <div id="eql" onclick="calc()">=</div>
            </div>
            <div class="mode" onclick="toggleMode()">
                <i id="mode" class='bx bx-moon'></i>
            </div>
        </div>
    </div>

    <script>
        let body = document.querySelector('body')
        const modeInner = document.querySelector('.mode .bx')
        function toggleMode() {
            modeInner.className = (modeInner.className == 'bx bx-sun') ? 'bx bx-moon' : 'bx bx-sun'; 
            modeInner.classList.contains('bx-sun') ? body.setAttribute('data-theme', 'dark') : body.setAttribute('data-theme', 'light'); 
        }
        
        function calc() {
            let replaced = res.value;
            if(res.value.includes('÷') || res.value.includes('×') ) {
                replaced = res.value.replaceAll('×', '*').replaceAll('÷', '/')
                res.value = eval(replaced)
            }
            res.value = eval(replaced)
        }
    </script>
</body>
</html>